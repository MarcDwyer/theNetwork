(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(31)},21:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(13),c=a.n(r),l=(a(21),a(6)),i=a.n(l),m=a(8),o=a(1),u=a(2),h=a(4),v=a(3),d=a(5),p=a(7),f=a.n(p),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={list:null,show:!1,error:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/streamers/all");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({list:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),this.setState({error:"Error fetching data"});case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.show;return a?s.a.createElement("div",null,s.a.createElement("div",{className:"header"},s.a.createElement("h5",{className:"ml-2 mt-2"},"Catalog ",s.a.createElement("small",null,Object.keys(this.state.list).length)),s.a.createElement("span",{className:"showmore ml-2",onClick:function(){return e.setState({show:!n})}},n?"Show less":"Show more")),s.a.createElement("div",{className:"actuallist"},this.renderStreams())):null}},{key:"renderStreams",value:function(){var e=this.state,t=e.list,a=e.show;return 0===t.length?"No streamers Online":t.map(function(e,t){var n="https://s3.us-east-2.amazonaws.com/fetchappbucket/images/".concat(e.Name,".jpg"),r="Ice"===e.Name?"Dishonest Andy":e.Name;if(a||!(t>=6))return s.a.createElement("div",{className:"streamer",key:f()(),onClick:function(){var t="https://www.youtube.com/channel/".concat(e.ChannelId);window.open(t,"_blank").focus()}},s.a.createElement("div",{className:"substreamer"},s.a.createElement("img",{src:n,alt:"streamimage",className:"ml-2"}),s.a.createElement("div",{className:"streamname ml-2 "},s.a.createElement("span",{className:"thename"},r))))})}}]),t}(n.Component),b=function(e){var t=e.theme?"darkTheme":"whiteTheme",a=e.live?Object.values(e.live).reduce(function(e,t){if(!isNaN(t).viewers)return e+=t.Viewers},0):"0";return s.a.createElement("nav",{className:"navbar navbar-expand-lg ".concat(t)},s.a.createElement("span",{className:"navbar-brand"},s.a.createElement("img",{style:{height:"45px",width:"45px",borderRadius:"50%",marginRight:"5px"},src:"https://s3.us-east-2.amazonaws.com/fetchappbucket/images/logo.jpg"})," HX Network ",s.a.createElement("i",{className:"fa fa-toggle-on ml-2",onClick:function(){return e.toggle()}})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},s.a.createElement("span",{className:"navbar-text"},"Total Viewers: ".concat(a))))},g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={online:!1,theStream:{Likes:"900000",Dislikes:"2 (Ice and Sam)",Title:"Our god is offline... watch his VOD",Viewers:"10000000",VideoID:"https://www.youtube.com/embed/jiZvsxNtmvw",Description:"Wow our new CEO is awesome"}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.live&&(console.log(4),this.setState({online:!0,theStream:Object.values(this.props.live)[0]}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.live,n=t.onStream,s=this.state,r=s.online;s.theStream;r&&n&&!a[n]?(console.log(1),this.setState({theStream:a[Object.keys(a)[0]]})):r&&e.onStream!==this.props.onStream?(console.log(2),this.setState({theStream:a[n]})):a===e.live||r||(console.log(3),this.setState({online:!0,theStream:a[Object.keys(a)[0]]}))}},{key:"render",value:function(){var e=this.state,t=e.theStream,a=e.online;if(console.log(t),!t)return null;var n=t.Likes,r=t.Dislikes,c=t.VideoID,l=t.Viewers,i=t.Title,m=this.props.theme?"darkTheme":"whiteTheme",o=a?"https://www.youtube.com/embed/".concat(c,"?autoplay=1&amp;showinfo=0&amp;modestbranding=1&amp;enablejsapi=1&amp"):t.VideoID,u=window.location.hostname,h=a?"https://www.youtube.com/live_chat?v=".concat(c,"&embed_domain=").concat(u):"";return s.a.createElement("div",{className:"contentmain",style:this.props.theme?{backgroundColor:"black"}:{backgroundColor:"#D6D6D6"}},s.a.createElement("div",{className:"videoparent"},s.a.createElement("div",{className:"videonav ".concat(m)},s.a.createElement("div",{className:"marginnav"},s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-thumbs-up"})," ",n),s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-thumbs-down ml-4"})," ",r))),s.a.createElement("div",{className:"margincontent ".concat(m)},s.a.createElement("div",{className:"actualvideo"},s.a.createElement("iframe",{src:o,frameBorder:"0"})),s.a.createElement("div",{className:"topcontent"},s.a.createElement("div",{className:"videocontent mt-2"},s.a.createElement("h4",{className:"ml-2"},i),s.a.createElement("span",null,s.a.createElement("i",{style:{color:"red"},className:"fa fa-circle mr-2"}),l," Viewers")),s.a.createElement("div",{className:"body ml-2 mb-2"},s.a.createElement("p",null,t.Description))))),s.a.createElement("div",{className:"chatter"},s.a.createElement("iframe",{className:"thechat",src:h,frameBorder:"0"})))}}]),t}(n.Component),w=a(14),k=a.n(w),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={updater:[]},a.styles={card:{color:"white"}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(e.active&&e.active!==this.props.active){var s=this.props.active,r=Object.values(e.active).map(function(e){return e.name}),c=Object.values(s).map(function(e){return e.name}),l=k.a.difference(c,r);this.setState({updater:l}),setTimeout(function(){n.setState({updater:[]})},8500)}}},{key:"render",value:function(){return!this.state.updater.length>0?s.a.createElement("div",{className:"notify",style:this.styles.card},s.a.createElement("div",{className:"flexme"},s.a.createElement("span",null,"No difference..."))):s.a.createElement("div",{className:"notify act",style:this.styles.card},this.updateStream())}},{key:"updateStream",value:function(){return this.state.updater.map(function(e){return console.log(e),s.a.createElement("div",{key:f()(),className:"flexme"},s.a.createElement("span",null,e," is online!"))})}}]),t}(n.Component),y=a(15),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).toggleTheme=function(){localStorage.setItem("dark",JSON.stringify(!a.state.dark)),a.setState({dark:!a.state.dark})},a.getStreams=Object(m.a)(i.a.mark(function e(){var t,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getstreams running..."),e.prev=1,e.next=4,fetch("/streamers/live");case 4:return t=e.sent,e.next=7,t.json();case 7:if(n=e.sent){e.next=10;break}return e.abrupt("return");case 10:s=n.reduce(function(e,t){return e[t.ChannelID]=t,e},{}),a.setState({live:s}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),a.setState({error:"Error fetching data"});case 18:case"end":return e.stop()}},e,this,[[1,14]])})),a.state={live:null,stream:null,dark:!0,error:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"boolean"===typeof(t=JSON.parse(localStorage.getItem("dark")))&&this.setState({dark:t}),this.getStreams(),this.checker=Object(y.setInterval)(this.getStreams,35e3);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.state.dark;if(a!==t.dark){var n=a?"#404040":"#D6D6D6";document.documentElement.style.setProperty("--streamhover",n)}}},{key:"render",value:function(){var e=this.state.live,t=this.state.dark?"darkTheme":"whiteTheme";return s.a.createElement("div",null,s.a.createElement(b,{toggle:this.toggleTheme,theme:this.state.dark,live:e}),s.a.createElement("div",{className:"maindiv ".concat(t)},s.a.createElement("div",{className:"navigator"},s.a.createElement("div",{className:"streamlist active"},s.a.createElement("h5",{className:"online ml-2"},"Online ",s.a.createElement("small",null,e?Object.keys(this.state.live).length:"0 Live")),s.a.createElement("div",{className:"actuallist"},this.renderStreams()),s.a.createElement(E,{theme:this.state.dark}))),s.a.createElement(g,{onStream:this.state.stream,live:e,theme:this.state.dark}),s.a.createElement(N,{active:e})))}},{key:"renderStreams",value:function(){var e=this,t=this.state.live;return t?Object.values(t).map(function(t){var a="Ice"===t.Name?"Dishonest Andy":t.Name,n="https://s3.us-east-2.amazonaws.com/fetchappbucket/images/".concat(t.Name,".jpg"),r=t.Viewers;return s.a.createElement("div",{className:"streamer mt-1",key:f()(),onClick:function(){return e.setState({stream:t.ChannelID})}},s.a.createElement("div",{className:"substreamer"},s.a.createElement("img",{src:n,alt:"streamimage",className:"ml-2"}),s.a.createElement("div",{className:"streamname ml-2 "},s.a.createElement("span",{className:"thename"},a),s.a.createElement("span",null,s.a.createElement("small",null,"is Playing IRL"))),s.a.createElement("span",{className:"marginme"},s.a.createElement("small",null,r," viewers"))))}):s.a.createElement("div",{className:"streamer mt-1"},s.a.createElement("div",{className:"substreamer"},s.a.createElement("div",{className:"streamname ml-2 "},s.a.createElement("span",{className:"thename"},"Searching for streams..."),s.a.createElement("span",null,s.a.createElement("small",null))),s.a.createElement("span",{className:"marginme"},s.a.createElement("small",null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement("div",null,s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.6dbf5b97.chunk.js.map